# üîß Backend Environment Variables - Template
# Copia este archivo como .env y configura los valores seg√∫n tu entorno

# ==============================================================================
# üåê SERVER CONFIGURATION
# ==============================================================================

# Puerto donde correr√° el servidor Express
# Valor por defecto: 3001
PORT=3001

# Entorno de ejecuci√≥n
# Valores: development | staging | production
NODE_ENV=development

# Host del servidor (0.0.0.0 para acceso externo)
# HOST=localhost

# ==============================================================================
# üîê CORS CONFIGURATION
# ==============================================================================

# Origen permitido para requests CORS (frontend URL)
# En desarrollo: http://localhost:5173
# En producci√≥n: https://tu-dominio.com
CORS_ORIGIN=http://localhost:5173

# Permitir env√≠o de cookies y credentials
# Valores: true | false
CORS_CREDENTIALS=true

# M√©todos HTTP permitidos
# CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Headers permitidos
# CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# ==============================================================================
# üé≠ PLAYWRIGHT CONFIGURATION
# ==============================================================================

# Saltar descarga autom√°tica de navegadores
# true: usar navegadores del sistema
# false: descargar navegadores espec√≠ficos
PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=false

# Ruta espec√≠fica del navegador (opcional)
# PLAYWRIGHT_BROWSER_PATH=/path/to/browser

# Ejecutar navegadores en modo headless
# true: sin interfaz gr√°fica (producci√≥n)
# false: con interfaz gr√°fica (debugging)
HEADLESS=true

# Ancho de viewport del navegador
# VIEWPORT_WIDTH=1920

# Alto de viewport del navegador
# VIEWPORT_HEIGHT=1080

# ==============================================================================
# ‚ö° SCRAPING CONFIGURATION
# ==============================================================================

# Delay entre requests para evitar rate limiting (ms)
SCRAPING_DELAY=1000

# Timeout total para operaciones de scraping (ms)
SCRAPING_TIMEOUT=30000

# M√°ximo n√∫mero de fuentes a scrapear simult√°neamente
MAX_CONCURRENT_SOURCES=5

# Delay adicional por rate limiting (ms)
RATE_LIMIT_DELAY=2000

# N√∫mero m√°ximo de reintentos por fuente fallida
SCRAPING_MAX_RETRIES=3

# User-Agent para requests de scraping
SCRAPING_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# ==============================================================================
# ‚úÖ PROXY VALIDATION CONFIGURATION
# ==============================================================================

# Timeout para probar cada proxy individual (ms)
VALIDATION_TIMEOUT=10000

# N√∫mero de reintentos por proxy fallido
VALIDATION_RETRIES=2

# M√°ximo n√∫mero de validaciones simult√°neas
MAX_CONCURRENT_VALIDATIONS=5

# URL de test para validar proxies
VALIDATION_TEST_URL=http://httpbin.org/ip

# Timeout para requests de validaci√≥n (ms)
VALIDATION_REQUEST_TIMEOUT=5000

# ==============================================================================
# üìä LOGGING CONFIGURATION
# ==============================================================================

# Nivel de logging
# Valores: error | warn | info | debug
LOG_LEVEL=info

# D√≠as de retenci√≥n de archivos de log
LOG_RETENTION_DAYS=7

# Tama√±o m√°ximo de logs en memoria (MB)
LOG_MAX_SIZE=100

# Formato de logs
# Valores: json | simple
LOG_FORMAT=simple

# Habilitar logs de requests HTTP
LOG_HTTP_REQUESTS=true

# ==============================================================================
# üîÑ CACHE CONFIGURATION
# ==============================================================================

# Tiempo de vida del cache en memoria (ms)
CACHE_TTL=300000

# Tama√±o m√°ximo del cache (n√∫mero de items)
CACHE_MAX_SIZE=1000

# Habilitar cache de resultados de scraping
ENABLE_SCRAPING_CACHE=true

# Habilitar cache de validaci√≥n de proxies
ENABLE_VALIDATION_CACHE=true

# ==============================================================================
# üîê SECURITY CONFIGURATION
# ==============================================================================

# Confiar en headers de proxy (para load balancers)
# Valores: true | false
TRUST_PROXY=false

# Tama√±o m√°ximo de request body
MAX_REQUEST_SIZE=10mb

# Habilitar rate limiting
ENABLE_RATE_LIMITING=true

# M√°ximo requests por IP por minuto
RATE_LIMIT_MAX_REQUESTS=100

# API Key para endpoints protegidos (opcional)
# API_KEY=tu-api-key-secreta

# ==============================================================================
# üì° SSE CONFIGURATION (Server-Sent Events)
# ==============================================================================

# Intervalo de heartbeat para mantener conexi√≥n SSE (ms)
SSE_HEARTBEAT_INTERVAL=30000

# Timeout para conexiones SSE inactivas (ms)
SSE_CONNECTION_TIMEOUT=300000

# M√°ximo n√∫mero de conexiones SSE simult√°neas
MAX_SSE_CONNECTIONS=50

# ==============================================================================
# üåê HTTP CLIENT CONFIGURATION
# ==============================================================================

# Timeout para requests HTTP externos (ms)
HTTP_REQUEST_TIMEOUT=15000

# N√∫mero m√°ximo de redirects a seguir
HTTP_MAX_REDIRECTS=5

# Habilitar keep-alive para conexiones HTTP
HTTP_KEEP_ALIVE=true

# ==============================================================================
# üéØ PROXY SOURCES CONFIGURATION
# ==============================================================================

# URLs espec√≠ficas de fuentes de proxies (opcional)
# Si no se especifican, usa las fuentes por defecto
# PROXY_SOURCE_URL_1=https://custom-proxy-source.com/list
# PROXY_SOURCE_URL_2=https://another-source.com/api/proxies
# PROXY_SOURCE_URL_3=https://third-source.com/proxies.json

# Habilitar fuentes espec√≠ficas por tipo
ENABLE_HTTP_SOURCES=true
ENABLE_HTTPS_SOURCES=true
ENABLE_SOCKS_SOURCES=false

# ==============================================================================
# üß™ TESTING & DEBUG CONFIGURATION
# ==============================================================================

# Habilitar endpoints de testing (/api/test, /api/scrape/test)
ENABLE_TEST_ENDPOINTS=true

# Generar datos mock para testing
ENABLE_MOCK_DATA=false

# Delay artificial para simular latencia en testing (ms)
MOCK_RESPONSE_DELAY=0

# Habilitar modo debug con informaci√≥n extra
DEBUG_MODE=false

# ==============================================================================
# üìà MONITORING CONFIGURATION
# ==============================================================================

# Habilitar m√©tricas de performance
ENABLE_METRICS=true

# Intervalo para limpiar m√©tricas antiguas (ms)
METRICS_CLEANUP_INTERVAL=3600000

# Habilitar health checks
ENABLE_HEALTH_CHECKS=true

# ==============================================================================
# üöÄ PRODUCTION OVERRIDES
# ==============================================================================

# Variables espec√≠ficas para producci√≥n
# Descomenta y configura para entorno de producci√≥n:

# NODE_ENV=production
# PORT=8080
# HEADLESS=true
# LOG_LEVEL=warn
# ENABLE_TEST_ENDPOINTS=false
# TRUST_PROXY=true
# RATE_LIMIT_MAX_REQUESTS=50

# ==============================================================================
# üìã CONFIGURATION NOTES
# ==============================================================================
#
# 1. Variables sin valor por defecto requieren configuraci√≥n manual
# 2. Para producci√≥n, revisa todas las configuraciones de seguridad
# 3. Los timeouts est√°n en milisegundos (ms)
# 4. Las URLs deben incluir protocolo (http:// o https://)
# 5. Para debugging, configura HEADLESS=false y LOG_LEVEL=debug
#
# Para m√°s informaci√≥n, ver: docs/ENV-CONFIGURATION.md
